#summary This is how to setup and work with a Bluetooth connection.
#labels Phase-Implementation,Lego,NXT,Bluetooth

= Purpose =
----
This article explains how to setup and install Bluetooth on a PC. It also explains how to pair with the LEGO NXT brick.

= Connecting via Bluetooth =
----
== Linux ==
  # Install Bluetooth packages:
{{{
$ sudo apt-get install bluez-utils bluez-gnome libbluetooth-dev
}}}
  # Make sure Bluetooth on your computer is turned on, then start the bluetooth applet:
{{{
$ bluetooth-applet
}}}
  # When the Bluetooth icon appears in the system tray we can conect and it will help pair with the NXT.
  # Change to the directory where you downloaded `NXTRC`.
{{{
$ cd ~/lego/linux/NXTRC
}}}
  # Scan for your NXT
{{{
$ ./NXTRC -s
}}}
   You should get an output like this:
{{{
00:16:53:04:CE:24  NXT
}}}
  # Use `NXTRC` to get the info on your NXT. This will start the pairing process. Make sure to use the address you got from the previous step after the `-a`.
{{{
$ ./NXTRC -a 00:16:53:04:CE:24 -i
}}}
  # Enter the pin on the NXT. The default (1234) is fine.
  # Then enter the same pin (1234) on the Linux box. It should popup from the bluetooth-applet.
  # This output should look something like this:
{{{
$ ./NXTRC -a 00:16:53:04:CE:24 -i
=: ** Getting Brick Info

=: Device Name  : NXT
=: BT Address   : 00:16:53:04:CE:24
=: Free space   : 93944
=: Battery Level: 7187mV
=: Firmware Ver : 1.5
=: Protocol Ver : 1.124
}}}
  # The NXT and the Linux box are now paired and you can use `NXTRC` to tranfer files, execute programs, and list information from the NXT.

=== Optional Commandline method ===
  # Install Bluetooth packages:
{{{
$ sudo apt-get install bluez-utils bluez-gnome libbluetooth-dev
}}}
  # Make sure Bluetooth on your computer is turned on, then start the services:
{{{
$ sudo /etc/init.d/bluetooth start
}}}
  # Now turn Bluetooth on NXT brick on and let your computer scan for it:
{{{
$ hciconfig hci0
$ hcitool scan
}}}
   You should get something like this:
{{{
00:16:53:04:20:C9       NXT
}}}
  # Create a file `/etc/bluetooth/pin` containing plaintext "1234". (This is the default pin on the NXT, you may change it).
{{{
$ sdptool add --channel=3 SP
$ rfcomm listen /dev/rfcomm0 3
}}}
   The NXT should now be able to find your computer (`Bluetoot>Search`). You need to enter the pin to connect.
  # To view the communication stream enter:
{{{
$ cat /dev/rfcomm0 | od -t x1 -w1 -v -Ax
}}}

Most of this comes from this [http://mtc.epfl.ch/courses/ProblemSolving-2007/nxt.html website].

== Windows ==
I am not sure yet. I don't have any instructions planned for this yet.